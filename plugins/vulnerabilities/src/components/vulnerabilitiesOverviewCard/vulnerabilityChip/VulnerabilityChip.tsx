import React from 'react';
import type { VulnerabilityChipProps } from './types';
import { useVulnerabilityChipStyles } from './styles';
import { Box, Typography } from '@material-ui/core';
import { Error, Warning, NewReleases, Announcement } from "@material-ui/icons";

const CriticalChip: React.FC<Omit<VulnerabilityChipProps, 'variant'>> = ({
  value,
}) => {
  const { root, criticalVariant } = useVulnerabilityChipStyles();
  return (
    <Box component="div" className={`${root} ${criticalVariant}`}>
      <Typography>Critical</Typography> 
      <Typography>{value}</Typography>
      <NewReleases />
    </Box>
  );
};

const HighChip: React.FC<Omit<VulnerabilityChipProps, 'variant'>> = ({
  value,
}) => {
  const { root, highVariant } = useVulnerabilityChipStyles();
  return (
    <Box component="div" className={`${root} ${highVariant}`}>
      <Typography>High</Typography> 
      <Typography>{value}</Typography>
      <Error />
    </Box>
  );
};

const MediumChip: React.FC<Omit<VulnerabilityChipProps, 'variant'>> = ({
  value,
}) => {
  const { root, mediumVariant } = useVulnerabilityChipStyles();
  return (
    <Box component="div" className={`${root} ${mediumVariant}`}>
      <Typography>Medium</Typography> 
      <Typography>{value}</Typography>
      <Warning />
    </Box>
  );
};

const LowChip: React.FC<Omit<VulnerabilityChipProps, 'variant'>> = ({
  value,
}) => {
  const { root, lowVariant } = useVulnerabilityChipStyles();
  return (
    <div className={`${root} ${lowVariant}`}>
      <Typography>Low</Typography> 
      <Typography>{value}</Typography>
      <Announcement />
    </div>
  );
};

export const VulnerabilityChip: React.FC<VulnerabilityChipProps> = ({
  variant,
  value,
}) => {
  if (variant === 'critical') return <CriticalChip value={value} />;

  if (variant === 'high') return <HighChip value={value} />;

  if (variant === 'medium') return <MediumChip value={value} />;

  if (variant === 'low') return <LowChip value={value} />;

  return null;
};
