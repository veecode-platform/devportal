import React from 'react';
import type { VulnerabilityChipProps } from './types';
import NewReleasesIcon from '@mui/icons-material/NewReleases';
import InfoIcon from '@mui/icons-material/Info';
import WarningIcon from '@mui/icons-material/Warning';
import AnnouncementIcon from '@mui/icons-material/Announcement';
import { useVulnerabilityChipStyles } from './styles';
import { Box, Typography } from '@material-ui/core';

const CriticalChip: React.FC<Omit<VulnerabilityChipProps, 'variant'>> = ({
  value,
}) => {
  const { root, criticalVariant } = useVulnerabilityChipStyles();
  return (
    <Box component="span" className={`${root} ${criticalVariant}`}>
      <Typography>Critical</Typography> {value} <NewReleasesIcon />
    </Box>
  );
};

const HighChip: React.FC<Omit<VulnerabilityChipProps, 'variant'>> = ({
  value,
}) => {
  const { root, highVariant } = useVulnerabilityChipStyles();
  return (
    <Box component="span" className={`${root} ${highVariant}`}>
      <Typography>High</Typography> {value} <InfoIcon />
    </Box>
  );
};

const MediumChip: React.FC<Omit<VulnerabilityChipProps, 'variant'>> = ({
  value,
}) => {
  const { root, mediumVariant } = useVulnerabilityChipStyles();
  return (
    <Box component="span" className={`${root} ${mediumVariant}`}>
      <Typography>Medium</Typography> {value} <WarningIcon />
    </Box>
  );
};

const LowChip: React.FC<Omit<VulnerabilityChipProps, 'variant'>> = ({
  value,
}) => {
  const { root, lowVariant } = useVulnerabilityChipStyles();
  return (
    <Box component="span" className={`${root} ${lowVariant}`}>
      <Typography>Low</Typography> {value} <AnnouncementIcon />
    </Box>
  );
};

export const VulnerabilityChip: React.FC<VulnerabilityChipProps> = ({
  variant,
  value,
}) => {
  if (variant === 'critical') return <CriticalChip value={value} />;

  if (variant === 'high') return <HighChip value={value} />;

  if (variant === 'medium') return <MediumChip value={value} />;

  if (variant === 'low') return <LowChip value={value} />;

  return null;
};
