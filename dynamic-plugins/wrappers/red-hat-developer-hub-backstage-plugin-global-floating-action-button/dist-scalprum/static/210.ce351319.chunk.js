"use strict";(self.webpackChunkred_hat_developer_hub_backstage_plugin_global_floating_action_button=self.webpackChunkred_hat_developer_hub_backstage_plugin_global_floating_action_button||[]).push([[210],{6210:(e,t,n)=>{n.r(t),n.d(t,{PrefetchContext:()=>I,PrefetchProvider:()=>U,ScalprumComponent:()=>N,ScalprumContext:()=>D,ScalprumProvider:()=>G,default:()=>G,useLoadModule:()=>Y,useModule:()=>W,usePrefetch:()=>V,useScalprum:()=>F});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var u,s=n(5478),l=n.n(s),p=n(9880),f="default",d=function(e,t){return"".concat(e,"#").concat(t)},h=function(){if(!u)throw new Error("Scalprum was not initialized! Call the initialize function first.");return u},v=function(e){if(!Object.keys(n.S).includes(f))throw new Error("Attempt to access share scope object before its initialization");var t,r=n.S[f];return e&&(t=r,Object.entries(t).forEach((function(e){var t=e[0],n=e[1];Object.keys(n).length>1&&(console.warn("[SCALPRUM]: You have ".concat(t," package that is being loaded into browser multiple times. You might want to align your version with the chrome one.")),console.warn("[SCALPRUM]: All packages instances:",n))}))),r},m=function(e,t){t&&(b(e,t),t.finally((function(){w(e)})))},g=function(e,t){var n=d(e,t);try{var r=h().exposedModules[n];if(!t)return{};var o="".concat(e,"#").concat(t),i=y(o);return i?{cachedModule:r,prefetchPromise:i}:(null==r?void 0:r.prefetch)?(m(o,r.prefetch(h().api)),{cachedModule:r,prefetchPromise:y(o)}):{cachedModule:r}}catch(n){return console.warn("Unable to retrieve cached module ".concat(e," ").concat(t,". New module will be loaded."),n),{}}},b=function(e,t){h().pendingPrefetch[e]=t},y=function(e){var t;return null===(t=h().pendingPrefetch)||void 0===t?void 0:t[e]},w=function(e){delete h().pendingPrefetch[e]},E=function(e,t,n){return void 0===n&&(n="default"),a(void 0,void 0,void 0,(function(){var r,o,i,a,u;return c(this,(function(c){switch(c.label){case 0:if(r=h(),o=g(e,t).cachedModule,!(a=null===(u=O(e))||void 0===u?void 0:u.manifestLocation))throw new Error("Could not get module. Manifest location not found for scope ".concat(e,"."));if(o)return[3,6];c.label=1;case 1:return c.trys.push([1,4,,5]),[4,k(a,e,t)];case 2:return c.sent(),[4,r.pluginStore.getExposedModule(e,t)];case 3:return i=c.sent(),[3,5];case 4:throw c.sent(),new Error('Module not initialized! Module "'.concat(t,'" was not found in "').concat(e,'" webpack scope. Make sure the remote container is loaded?'));case 5:return[3,7];case 6:i=o,c.label=7;case 7:return[2,i[n]]}}))}))},S=function(e){var t,r,i=e.appsConfig,a=e.api,c=e.options,s=e.pluginStoreFeatureFlags,l=void 0===s?{}:s,f=e.pluginLoaderOptions,d=void 0===f?{}:f,h=e.pluginStoreOptions,m=void 0===h?{}:h;if(u)return u.api=a||{},u.appsConfig=i,u.scalprumOptions=o(o({},u.scalprumOptions),c),u.pluginStore.setFeatureFlags(l),u;var g=o({cacheTimeout:120,enableScopeWarning:"development"===(null===(r=null===(t=null===n.g||void 0===n.g?void 0:n.g.process)||void 0===t?void 0:t.env)||void 0===r?void 0:r.NODE_ENV)},c),b=new p.PluginStore(o(o({},m),{loaderOptions:o({sharedScope:v(g.enableScopeWarning),getPluginEntryModule:function(e){var t=e.name;return window[t]}},d)}));return b.setFeatureFlags(l),u={appsConfig:i,pendingInjections:{},pendingLoading:{},pendingPrefetch:{},existingScopes:new Set,exposedModules:{},scalprumOptions:g,api:a||{},pluginStore:b}},O=function(e){return h().appsConfig[e]},P=function(e,t,n){h().existingScopes.has(e)||h().existingScopes.add(e);var r=d(e,t);h().exposedModules[r]=n},C=function(e){delete h().pendingInjections[e]},M=function(e,t){h().pendingInjections[e]=t},x=function(e){return h().pendingInjections[e]};function k(e,t,n,r){return a(this,void 0,void 0,(function(){var o,i,u,s,l,p=this;return c(this,(function(f){switch(f.label){case 0:if(o=x(t),i=h(),u=i.pluginStore,!i.existingScopes.has(t))return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,u.getExposedModule(t,n)];case 2:return l=f.sent(),P(t,n,l),[2];case 3:return s=f.sent(),console.warn("Unable to load module from existing container",s),console.warn("Scalprum will try to process manifest from scratch."),[3,4];case 4:return o?[4,o]:[3,7];case 5:return f.sent(),[4,u.getExposedModule(t,n)];case 6:return l=f.sent(),P(t,n,l),[2];case 7:return o=a(p,void 0,void 0,(function(){var o,i,a,s,l,p,f,d,h,v,m;return c(this,(function(c){switch(c.label){case 0:return"object"!=typeof e?[3,1]:(o=e,[3,10]);case 1:return(i=new Headers).append("Pragma","no-cache"),i.append("Cache-Control","no-cache"),i.append("expires","0"),[4,fetch(e,{method:"GET",headers:i})];case 2:if((a=c.sent()).ok)return[3,7];s=a.clone(),l=void 0,c.label=3;case 3:return c.trys.push([3,5,,6]),[4,s.json()];case 4:return l=c.sent(),[3,6];case 5:throw c.sent(),new Error("Unable to load manifest files at ".concat(e,"! ").concat(s.status,": ").concat(s.statusText));case 6:throw new Error("Unable to load manifest files at ".concat(e,"! ").concat(l));case 7:return c.trys.push([7,9,,10]),[4,a.json()];case 8:return o=c.sent(),[3,10];case 9:throw p=c.sent(),C(t),new Error(p);case 10:return function(e){return"string"==typeof e.name&&"string"==typeof e.version&&Array.isArray(e.extensions)&&Array.isArray(e.loadScripts)}(o)?f=o:((g=(d=r?r(o):o[t].entry)[0].split("/")).pop(),h=g.join("/")||"/",f={extensions:[],loadScripts:d.map((function(e){return e.replace(h,"")})),name:t,registrationMethod:"custom",version:"1.0.0",baseURL:h}),[4,u.loadPlugin(f)];case 11:c.sent(),c.label=12;case 12:return c.trys.push([12,14,,15]),[4,u.getExposedModule(t,n)];case 13:return v=c.sent(),P(t,n,v),[2];case 14:throw m=c.sent(),C(t),m;case 15:return[2]}var g}))})),M(t,o),[4,o];case 8:return f.sent(),C(t),[2]}}))}))}var j=n(6343),_=n.n(j);function L(e,t,n){return void 0===n&&(n="default"),a(this,void 0,void 0,(function(){var r,o,i;return c(this,(function(a){switch(a.label){case 0:return r=h().pluginStore,o=void 0,i=g(e,t).cachedModule,(o=i)?[3,2]:[4,r.getExposedModule(e,t)];case 1:o=a.sent(),a.label=2;case 2:return[2,{prefetch:o.prefetch,component:o[n]}]}}))}))}var A=function(e){var t=e.error,n=e.errorInfo;return function(e){return(null==e?void 0:e.cause)&&"object"==typeof e.cause}(t)?l().createElement(A,{error:t.cause,errorInfo:n}):l().createElement("div",null,l().createElement("h2",null,"Error loading component"),"string"==typeof t&&l().createElement("p",null,t),(null==t?void 0:t.cause)&&"object"!=typeof(null==t?void 0:t.cause)&&l().createElement("p",null,t.cause),(null==t?void 0:t.message)&&l().createElement("p",null,t.message),(null==n?void 0:n.componentStack)?l().createElement("pre",null,null==n?void 0:n.componentStack):(null==t?void 0:t.stack)&&l().createElement("pre",null,t.stack))};const R=A;var I=(0,s.createContext)(void 0),U=function(e){var t=e.children,n=e.prefetchPromise;return l().createElement(I.Provider,{value:n},t)},D=(0,s.createContext)({initialized:!1,config:{},api:{},pluginStore:{}});function F(e){var t=(0,s.useContext)(D);return"function"==typeof e?e(t):t}var z=function(e){var t=e.fallback,n=void 0===t?"loading":t,r=e.scope,u=e.module,p=e.ErrorComponent,f=e.processor,d=e.innerRef,v=e.skipCache,b=void 0!==v&&v,w=e.importName,E=void 0===w?"default":w,S=i(e,["fallback","scope","module","ErrorComponent","processor","innerRef","skipCache","importName"]),P=O(r),C=P.manifestLocation,M=P.pluginManifest,x=(0,s.useReducer)((function(e){return e+1}),0),j=x[0],_=x[1],A=(0,s.useState)(void 0),R=A[0],I=A[1],D=(0,s.useState)(),z=D[0],T=D[1],N=(0,s.useState)(),K=N[0],G=N[1];if(K)throw K;var W=F();(0,s.useEffect)((function(){var e="".concat(r,"#").concat(u),t=g(r,u),n=t.cachedModule,i=t.prefetchPromise;T(i);var s,d=!0,v=function(e){d&&(G(e),I((function(){return function(t){return l().createElement(p,o({error:e},t))}})))},b=function(e,t){return h().pendingLoading["".concat(e,"#").concat(t)]}(r,u);if(!n&&b)b.finally((function(){_()}));else if(n)try{if(d&&I((function(){return n[E]})),s=n.prefetch){var w=y(e)||s(W);T(w),m(e,w)}}catch(e){v(e)}else if(C||M){var S=k(null!=C?C:M,r,u,f).then((function(){return s=function(e,t,n,r,o){return a(this,void 0,void 0,(function(){var i,a,u;return c(this,(function(c){switch(c.label){case 0:return[4,L(e,t,r)];case 1:return i=c.sent(),a=i.prefetch,u=i.component,n&&o((function(){return u})),[2,a]}}))}))}(r,u,d,E,I),s.then((function(t){if(t){var n=y(e)||t(W);T(n),m(e,n)}})),s})).catch(v);!function(e,t,n){h().pendingLoading["".concat(e,"#").concat(t)]=n,n.then((function(n){return delete h().pendingLoading["".concat(e,"#").concat(t)],n})).catch((function(){delete h().pendingLoading["".concat(e,"#").concat(t)]}))}(r,u,S)}return function(){d=!1,G(void 0)}}),[r,b,j]);var Y=(0,s.useRef)(!1);return(0,s.useEffect)((function(){Y.current&&T(void 0),Y.current=!0}),[r,u]),l().createElement(U,{prefetchPromise:z},l().createElement(s.Suspense,{fallback:n},R?l().createElement(R,o({ref:d},S)):n))},T=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1},n.selfRepairAttempt=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.shouldComponentUpdate=function(e,t){return this.state.hasError!==t.hasError||!_()(e,this.props)||!_()(t,this.state)},t.prototype.componentDidCatch=function(e,t){!0===this.selfRepairAttempt?(console.error("Scalprum encountered an error!",(null==e?void 0:e.cause)||e.message,e),this.setState({error:e,errorInfo:t})):(console.warn("Scalprum failed to render component. Attempting to skip module cache."),this.setState({repairAttempt:!0}))},t.prototype.render=function(){var e=this,t=this.props,n=t.ErrorComponent,r=void 0===n?l().createElement(R,o({},this.state)):n,a=i(t,["ErrorComponent"]),c=function(t){return l().cloneElement(r,o(o({},e.state),t))};return this.state.repairAttempt&&!this.selfRepairAttempt?(this.selfRepairAttempt=!0,l().createElement(z,o({},a,{skipCache:!0,ErrorComponent:c}))):this.state.hasError&&this.selfRepairAttempt?l().cloneElement(r,o({},this.state)):l().createElement(z,o({},a,{ErrorComponent:c}))},t.defaultProps={ErrorComponent:l().createElement(R,null)},t}(l().Component),N=l().forwardRef((function(e,t){return l().createElement(T,o({},e,{innerRef:t}))}));function K(e){return o(o({},e),{loadScripts:e.loadScripts.map((function(t){return"".concat(e.baseURL).concat(t)}))})}function G(e){var t=(0,s.useMemo)((function(){var t;if(function(e){return"scalprum"in e}(e))return e.scalprum;var n=e.config,r=e.api,i=e.pluginSDKOptions,a=(null==i?void 0:i.pluginLoaderOptions)||{},c=a.postProcessManifest,u=a.transformPluginManifest,s=null!==(t=c||u)&&void 0!==t?t:K;return c&&console.error("[Scalprum] Deprecation warning!\n  Please use pluginSDKOptions.pluginLoaderOptions.transformPluginManifest instead of pluginSDKOptions.pluginLoaderOptions.postProcessManifest.\n  The postProcessManifest option will be removed in the next major release."),S(o(o({appsConfig:n,api:r},i),{pluginLoaderOptions:o(o({},null==i?void 0:i.pluginLoaderOptions),{transformPluginManifest:s})}))}),[e.api,e.config,e.scalprum]),n=(0,s.useMemo)((function(){return{config:t.appsConfig,api:t.api,initialized:!0,pluginStore:t.pluginStore}}),[e.api,e.config,e.scalprum,t]);return l().createElement(D.Provider,{value:n},l().createElement(p.PluginStoreProvider,{store:t.pluginStore},e.children))}function W(e,t,n,r){var o=this;void 0===r&&(r="default");var i=(0,s.useState)(n),u=i[0],l=i[1],p=(0,s.useCallback)((function(){return a(o,void 0,void 0,(function(){var n,o;return c(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,E(e,t,r)];case 1:return n=i.sent(),l((function(){return n})),[3,3];case 2:return o=i.sent(),console.error(o),[3,3];case 3:return[2]}}))}))}),[e,t]);return(0,s.useEffect)((function(){p()}),[e,t,r]),u}function Y(e,t){var n=this,r=e.scope,o=e.module,i=e.processor,u=O(r).manifestLocation,l=(0,s.useState)(t),p=l[0],f=l[1],d=(0,s.useState)(),v=d[0],m=d[1],b=g(r,o).cachedModule,y=(0,s.useRef)(!0),w=h().pluginStore;return(0,s.useEffect)((function(){if(y.current)if(b)try{w.getExposedModule(r,o).then((function(e){f((function(){return e}))}))}catch(e){m((function(){return e}))}else u&&k(u,r,o,i).then((function(){return a(n,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,w.getExposedModule(r,o)];case 1:return e=t.sent(),f((function(){return e})),[2]}}))}))})).catch((function(e){m((function(){return e}))}));return function(){y.current=!1}}),[r,b]),[p,v]}var H={data:void 0,ready:!1,error:void 0},V=function(){var e=(0,s.useState)(H),t=e[0],n=e[1],r=(0,s.useContext)(I);return(0,s.useEffect)((function(){t.ready=!1,null==r||r.then((function(e){n(o(o({},t),{error:void 0,data:e,ready:!0}))})).catch((function(e){n(o(o({},t),{ready:!0,data:void 0,error:e}))}))}),[r]),t}}}]);
//# sourceMappingURL=210.ce351319.chunk.js.map