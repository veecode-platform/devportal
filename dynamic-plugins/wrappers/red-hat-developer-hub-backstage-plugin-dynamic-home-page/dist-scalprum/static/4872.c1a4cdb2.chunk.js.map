{"version":3,"file":"static/4872.c1a4cdb2.chunk.js","mappings":"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","sources":["webpack://red-hat-developer-hub.backstage-plugin-dynamic-home-page/../../node_modules/@red-hat-developer-hub/backstage-plugin-dynamic-home-page/dist/hooks/useDynamicHomePageCards.esm.js","webpack://red-hat-developer-hub.backstage-plugin-dynamic-home-page/../../node_modules/react/jsx-runtime.js","webpack://red-hat-developer-hub.backstage-plugin-dynamic-home-page/../../node_modules/@red-hat-developer-hub/backstage-plugin-dynamic-home-page/dist/components/VisitListener.esm.js","webpack://red-hat-developer-hub.backstage-plugin-dynamic-home-page/../../node_modules/@backstage/catalog-model/dist/entity/constants.esm.js","webpack://red-hat-developer-hub.backstage-plugin-dynamic-home-page/../../node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack://red-hat-developer-hub.backstage-plugin-dynamic-home-page/../../node_modules/@backstage/catalog-model/dist/entity/ref.esm.js","webpack://red-hat-developer-hub.backstage-plugin-dynamic-home-page/../../node_modules/@backstage/plugin-home/dist/components/VisitListener.esm.js"],"sourcesContent":["import { useScalprum } from '@scalprum/react-core';\n\nconst useDynamicHomePageCards = () => {\n  const scalprum = useScalprum();\n  const cards = scalprum?.api?.dynamicRootConfig?.mountPoints?.[\"home.page/cards\"];\n  return cards;\n};\n\nexport { useDynamicHomePageCards };\n//# sourceMappingURL=useDynamicHomePageCards.esm.js.map\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import React from 'react';\nimport { VisitListener as VisitListener$1 } from '@backstage/plugin-home';\nimport { useDynamicHomePageCards } from '../hooks/useDynamicHomePageCards.esm.js';\n\nconst VisitListener = () => {\n  const cards = useDynamicHomePageCards();\n  const shouldLoadVisitListener = React.useMemo(() => {\n    if (!cards) {\n      return false;\n    }\n    const requiresVisitListener = [\n      \"Extension(RecentlyVisitedCard)\",\n      \"Extension(TopVisitedCard)\"\n    ];\n    return cards.some(\n      (card) => requiresVisitListener.includes(card.Component.displayName)\n    );\n  }, [cards]);\n  return shouldLoadVisitListener ? /* @__PURE__ */ React.createElement(VisitListener$1, null) : null;\n};\n\nexport { VisitListener };\n//# sourceMappingURL=VisitListener.esm.js.map\n","const DEFAULT_NAMESPACE = \"default\";\nconst ANNOTATION_VIEW_URL = \"backstage.io/view-url\";\nconst ANNOTATION_EDIT_URL = \"backstage.io/edit-url\";\nconst ANNOTATION_KUBERNETES_API_SERVER = \"kubernetes.io/api-server\";\nconst ANNOTATION_KUBERNETES_API_SERVER_CA = \"kubernetes.io/api-server-certificate-authority\";\nconst ANNOTATION_KUBERNETES_AUTH_PROVIDER = \"kubernetes.io/auth-provider\";\n\nexport { ANNOTATION_EDIT_URL, ANNOTATION_KUBERNETES_API_SERVER, ANNOTATION_KUBERNETES_API_SERVER_CA, ANNOTATION_KUBERNETES_AUTH_PROVIDER, ANNOTATION_VIEW_URL, DEFAULT_NAMESPACE };\n//# sourceMappingURL=constants.esm.js.map\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","import { DEFAULT_NAMESPACE } from './constants.esm.js';\n\nfunction parseRefString(ref) {\n  let colonI = ref.indexOf(\":\");\n  const slashI = ref.indexOf(\"/\");\n  if (slashI !== -1 && slashI < colonI) {\n    colonI = -1;\n  }\n  const kind = colonI === -1 ? void 0 : ref.slice(0, colonI);\n  const namespace = slashI === -1 ? void 0 : ref.slice(colonI + 1, slashI);\n  const name = ref.slice(Math.max(colonI + 1, slashI + 1));\n  if (kind === \"\" || namespace === \"\" || name === \"\") {\n    throw new TypeError(\n      `Entity reference \"${ref}\" was not on the form [<kind>:][<namespace>/]<name>`\n    );\n  }\n  return { kind, namespace, name };\n}\nfunction getCompoundEntityRef(entity) {\n  return {\n    kind: entity.kind,\n    namespace: entity.metadata.namespace || DEFAULT_NAMESPACE,\n    name: entity.metadata.name\n  };\n}\nfunction parseEntityRef(ref, context) {\n  if (!ref) {\n    throw new Error(`Entity reference must not be empty`);\n  }\n  const defaultKind = context?.defaultKind;\n  const defaultNamespace = context?.defaultNamespace || DEFAULT_NAMESPACE;\n  let kind;\n  let namespace;\n  let name;\n  if (typeof ref === \"string\") {\n    const parsed = parseRefString(ref);\n    kind = parsed.kind ?? defaultKind;\n    namespace = parsed.namespace ?? defaultNamespace;\n    name = parsed.name;\n  } else {\n    kind = ref.kind ?? defaultKind;\n    namespace = ref.namespace ?? defaultNamespace;\n    name = ref.name;\n  }\n  if (!kind) {\n    const textual = JSON.stringify(ref);\n    throw new Error(\n      `Entity reference ${textual} had missing or empty kind (e.g. did not start with \"component:\" or similar)`\n    );\n  } else if (!namespace) {\n    const textual = JSON.stringify(ref);\n    throw new Error(\n      `Entity reference ${textual} had missing or empty namespace`\n    );\n  } else if (!name) {\n    const textual = JSON.stringify(ref);\n    throw new Error(`Entity reference ${textual} had missing or empty name`);\n  }\n  return { kind, namespace, name };\n}\nfunction stringifyEntityRef(ref) {\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in ref) {\n    kind = ref.kind;\n    namespace = ref.metadata.namespace ?? DEFAULT_NAMESPACE;\n    name = ref.metadata.name;\n  } else {\n    kind = ref.kind;\n    namespace = ref.namespace ?? DEFAULT_NAMESPACE;\n    name = ref.name;\n  }\n  return `${kind.toLocaleLowerCase(\"en-US\")}:${namespace.toLocaleLowerCase(\n    \"en-US\"\n  )}/${name.toLocaleLowerCase(\"en-US\")}`;\n}\n\nexport { getCompoundEntityRef, parseEntityRef, stringifyEntityRef };\n//# sourceMappingURL=ref.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport '@backstage/core-app-api';\nimport { visitsApiRef } from '../api/VisitsApi.esm.js';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\n\nconst getToEntityRef = ({\n  rootPath = \"catalog\",\n  stringifyEntityRefImpl = stringifyEntityRef\n} = {}) => ({ pathname }) => {\n  const regex = new RegExp(\n    `^/${rootPath}/(?<namespace>[^/]+)/(?<kind>[^/]+)/(?<name>[^/]+)`\n  );\n  const result = regex.exec(pathname);\n  if (!result || !result?.groups) return void 0;\n  const entity = {\n    namespace: result.groups.namespace,\n    kind: result.groups.kind,\n    name: result.groups.name\n  };\n  return stringifyEntityRefImpl(entity);\n};\nconst getVisitName = ({ rootPath = \"catalog\", document = global.document } = {}) => ({ pathname }) => {\n  const regex = new RegExp(\n    `^/${rootPath}/(?<namespace>[^/]+)/(?<kind>[^/]+)/(?<name>[^/]+)`\n  );\n  let result = regex.exec(pathname);\n  if (result && result?.groups) return result.groups.name;\n  result = /^\\/(?<name>[^\\/]+)$/.exec(pathname);\n  if (result && result?.groups) return result.groups.name;\n  return document.title;\n};\nconst VisitListener = ({\n  children,\n  toEntityRef,\n  visitName\n}) => {\n  const visitsApi = useApi(visitsApiRef);\n  const { pathname } = useLocation();\n  const toEntityRefImpl = toEntityRef ?? getToEntityRef();\n  const visitNameImpl = visitName ?? getVisitName();\n  useEffect(() => {\n    const requestId = requestAnimationFrame(() => {\n      visitsApi.save({\n        visit: {\n          name: visitNameImpl({ pathname }),\n          pathname,\n          entityRef: toEntityRefImpl({ pathname })\n        }\n      });\n    });\n    return () => cancelAnimationFrame(requestId);\n  }, [visitsApi, pathname, toEntityRefImpl, visitNameImpl]);\n  return /* @__PURE__ */ jsx(Fragment, { children });\n};\n\nexport { VisitListener };\n//# sourceMappingURL=VisitListener.esm.js.map\n"],"names":["useDynamicHomePageCards","scalprum","useScalprum","cards","api","dynamicRootConfig","mountPoints","module","exports","VisitListener","u","requiresVisitListener","some","card","includes","Component","displayName","DEFAULT_NAMESPACE","f","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","Fragment","jsx","jsxs","parseEntityRef","context","Error","defaultKind","defaultNamespace","kind","namespace","name","parsed","colonI","indexOf","slashI","slice","Math","max","TypeError","parseRefString","textual","JSON","stringify","stringifyEntityRef","metadata","toLocaleLowerCase","children","toEntityRef","visitName","visitsApi","useApi","pathname","useLocation","toEntityRefImpl","rootPath","stringifyEntityRefImpl","result","RegExp","exec","groups","entity","getToEntityRef","visitNameImpl","document","title","getVisitName","useEffect","requestId","requestAnimationFrame","save","visit","entityRef","cancelAnimationFrame"],"sourceRoot":""}