{"version":3,"file":"static/5358.ba3ccf66.chunk.js","mappings":"gWAMA,MAAMA,GAAY,E,QAAA,MAAa,CAE7BC,YAAa,CACX,iCAAkC,CAChCC,MAAO,OACPC,OAAQ,QAEV,sCAAuC,CACrCC,SAAU,WAIVC,EAAoBC,IACxB,MAAM,QAAEC,GAAYP,IACdQ,GAAQ,IAAAC,UAAQ,IACbH,EAAMI,YAAYC,KAAI,CAACC,EAAYC,KACxC,MAAMC,GAAMD,EAAQ,GAAGE,WACjBC,EAAU,CAAC,EACjB,GAAIJ,EAAWK,QAAQD,QACrB,IAAK,MAAOE,EAAYC,KAAWC,OAAOC,QACxCT,EAAWK,OAAOD,SAElBA,EAAQE,GAAc,CACpBI,EAAGR,EACHS,EAAGJ,EAAOI,GAAK,EACfC,EAAGL,EAAOK,GAAK,EACfC,EAAGN,EAAOM,GAAK,GACfC,EAAGP,EAAOO,GAAK,EACfC,aAAa,EACbC,aAAa,OAIjB,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,OAAOC,SAASX,IAC7CF,EAAQE,GAAc,CACpBI,EAAGR,EACHS,EAAG,EACHC,EAAG,EACHC,EAAG,GACHC,EAAG,EACHC,aAAa,EACbC,aAAa,MAInB,MAAO,CACLd,KACAgB,UAAWlB,EAAWkB,UACtBxB,MAAOM,EAAWK,QAAQX,MAC1BU,eAGH,CAACV,EAAMI,cACJqB,GAAW,IAAAtB,UAAQ,IAChBD,EAAMG,KAAKqB,GAAyB,kBACzC,MACA,CACEC,IAAKD,EAAKlB,GACV,cAAekB,EAAKlB,GACpB,cAAe,kBAAkBkB,EAAKlB,KACtC,cAAeoB,KAAKC,UAAUH,EAAKhB,SACnCoB,UAAW7B,EAAQN,aAEL,kBAAoB,IAAe,KAAsB,kBAAoB+B,EAAKF,UAAW,IAAKE,EAAK1B,aAExH,CAACE,EAAOD,EAAQN,cACnB,OAAuB,kBAAoB,IAAoB,KAAM8B,ICnEjEM,EAAwB/B,IAC5B,MAAMgC,GAAiC,IAAA7B,UAAQ,KAC7C,IAAKH,EAAME,MACT,MAAO,GAET,MAAM+B,EAAoBjC,EAAME,MAAMgC,QACnCR,IAA0B,IAAjBA,EAAKS,WAAuBT,EAAKf,QAAQyB,UAAYV,EAAKf,OAAOyB,UAAY,KAKzF,OAHAH,EAAkBI,MAChB,CAACC,EAAGC,KAAOA,EAAE5B,QAAQyB,UAAY,IAAME,EAAE3B,QAAQyB,UAAY,KAExDH,IACN,CAACjC,EAAME,QACV,OAAuB,kBAAoB,IAAM,CAAEsC,QAAS,QAA0B,kBAAoB,IAAQ,IAAKxC,IAA0B,kBAAoB,IAAS,KAAgD,IAA1CgC,EAA+BS,OAA+B,kBAChP,IACA,CACEC,MAAO,yDACPC,QAAS,YAEO,kBAAoB5C,EAAkB,CAAEK,YAAa4B,OCpBrEY,EAA+B5C,IACnC,MAAME,GAAQ,IAAA2C,KACd,OAAuB,kBAAoBd,EAAsB,IAAK/B,EAAOE,U","sources":["webpack://red-hat-developer-hub.backstage-plugin-dynamic-home-page/../../node_modules/@red-hat-developer-hub/backstage-plugin-dynamic-home-page/dist/components/CustomizableGrid.esm.js","webpack://red-hat-developer-hub.backstage-plugin-dynamic-home-page/../../node_modules/@red-hat-developer-hub/backstage-plugin-dynamic-home-page/dist/components/CustomizableHomePage.esm.js","webpack://red-hat-developer-hub.backstage-plugin-dynamic-home-page/../../node_modules/@red-hat-developer-hub/backstage-plugin-dynamic-home-page/dist/components/DynamicCustomizableHomePage.esm.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { ErrorBoundary } from '@backstage/core-components';\nimport { CustomHomepageGrid } from '@backstage/plugin-home';\nimport { makeStyles } from 'tss-react/mui';\nimport 'react-grid-layout/css/styles.css';\n\nconst useStyles = makeStyles()({\n  // Make card content scrollable (so that cards don't overlap)\n  cardWrapper: {\n    '& > div[class*=\"MuiCard-root\"]': {\n      width: \"100%\",\n      height: \"100%\"\n    },\n    '& div[class*=\"MuiCardContent-root\"]': {\n      overflow: \"auto\"\n    }\n  }\n});\nconst CustomizableGrid = (props) => {\n  const { classes } = useStyles();\n  const cards = useMemo(() => {\n    return props.mountPoints.map((mountPoint, index) => {\n      const id = (index + 1).toString();\n      const layouts = {};\n      if (mountPoint.config?.layouts) {\n        for (const [breakpoint, layout] of Object.entries(\n          mountPoint.config.layouts\n        )) {\n          layouts[breakpoint] = {\n            i: id,\n            x: layout.x ?? 0,\n            y: layout.y ?? 0,\n            w: layout.w ?? 12,\n            h: layout.h ?? 4,\n            isDraggable: false,\n            isResizable: false\n          };\n        }\n      } else {\n        [\"xl\", \"lg\", \"md\", \"sm\", \"xs\", \"xxs\"].forEach((breakpoint) => {\n          layouts[breakpoint] = {\n            i: id,\n            x: 0,\n            y: 0,\n            w: 12,\n            h: 4,\n            isDraggable: false,\n            isResizable: false\n          };\n        });\n      }\n      return {\n        id,\n        Component: mountPoint.Component,\n        props: mountPoint.config?.props,\n        layouts\n      };\n    });\n  }, [props.mountPoints]);\n  const children = useMemo(() => {\n    return cards.map((card) => /* @__PURE__ */ React.createElement(\n      \"div\",\n      {\n        key: card.id,\n        \"data-cardid\": card.id,\n        \"data-testid\": `home-page card ${card.id}`,\n        \"data-layout\": JSON.stringify(card.layouts),\n        className: classes.cardWrapper\n      },\n      /* @__PURE__ */ React.createElement(ErrorBoundary, null, /* @__PURE__ */ React.createElement(card.Component, { ...card.props }))\n    ));\n  }, [cards, classes.cardWrapper]);\n  return /* @__PURE__ */ React.createElement(CustomHomepageGrid, null, children);\n};\n\nexport { CustomizableGrid };\n//# sourceMappingURL=CustomizableGrid.esm.js.map\n","import React, { useMemo } from 'react';\nimport { Page, Content, EmptyState } from '@backstage/core-components';\nimport { Header } from './Header.esm.js';\nimport { CustomizableGrid } from './CustomizableGrid.esm.js';\n\nconst CustomizableHomePage = (props) => {\n  const filteredAndSortedHomePageCards = useMemo(() => {\n    if (!props.cards) {\n      return [];\n    }\n    const filteredAndSorted = props.cards.filter(\n      (card) => card.enabled !== false && (!card.config?.priority || card.config.priority >= 0)\n    );\n    filteredAndSorted.sort(\n      (a, b) => (b.config?.priority ?? 0) - (a.config?.priority ?? 0)\n    );\n    return filteredAndSorted;\n  }, [props.cards]);\n  return /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(Header, { ...props }), /* @__PURE__ */ React.createElement(Content, null, filteredAndSortedHomePageCards.length === 0 ? /* @__PURE__ */ React.createElement(\n    EmptyState,\n    {\n      title: \"No home page cards (mount points) configured or found.\",\n      missing: \"content\"\n    }\n  ) : /* @__PURE__ */ React.createElement(CustomizableGrid, { mountPoints: filteredAndSortedHomePageCards })));\n};\n\nexport { CustomizableHomePage };\n//# sourceMappingURL=CustomizableHomePage.esm.js.map\n","import React from 'react';\nimport { useDynamicHomePageCards } from '../hooks/useDynamicHomePageCards.esm.js';\nimport { CustomizableHomePage } from './CustomizableHomePage.esm.js';\n\nconst DynamicCustomizableHomePage = (props) => {\n  const cards = useDynamicHomePageCards();\n  return /* @__PURE__ */ React.createElement(CustomizableHomePage, { ...props, cards });\n};\n\nexport { DynamicCustomizableHomePage };\n//# sourceMappingURL=DynamicCustomizableHomePage.esm.js.map\n"],"names":["useStyles","cardWrapper","width","height","overflow","CustomizableGrid","props","classes","cards","useMemo","mountPoints","map","mountPoint","index","id","toString","layouts","config","breakpoint","layout","Object","entries","i","x","y","w","h","isDraggable","isResizable","forEach","Component","children","card","key","JSON","stringify","className","CustomizableHomePage","filteredAndSortedHomePageCards","filteredAndSorted","filter","enabled","priority","sort","a","b","themeId","length","title","missing","DynamicCustomizableHomePage","u"],"sourceRoot":""}