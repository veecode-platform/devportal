(self.webpackChunkred_hat_developer_hub_backstage_plugin_global_header=self.webpackChunkred_hat_developer_hub_backstage_plugin_global_header||[]).push([[3553,6343],{46343:(e,n,t)=>{var r=t(94687);e.exports=function(e,n){return r(e,n)}},64344:(e,n,t)=>{"use strict";t.r(n),t.d(n,{PrefetchContext:()=>A,PrefetchProvider:()=>R,ScalprumComponent:()=>Y,ScalprumContext:()=>j,ScalprumProvider:()=>F,default:()=>F,useLoadModule:()=>z,useModule:()=>I,usePrefetch:()=>N,useScalprum:()=>H});var r,o=t(85608),i=t(95478),a=t.n(i),c=t(99880),s="default",u=function(e,n){return"".concat(e,"#").concat(n)},l=function(){if(!r)throw new Error("Scalprum was not initialized! Call the initialize function first.");return r},p=function(e){if(!Object.keys(t.S).includes(s))throw new Error("Attempt to access share scope object before its initialization");var n,r=t.S[s];return e&&(n=r,Object.entries(n).forEach((function(e){var n=e[0],t=e[1];Object.keys(t).length>1&&(console.warn("[SCALPRUM]: You have ".concat(n," package that is being loaded into browser multiple times. You might want to align your version with the chrome one.")),console.warn("[SCALPRUM]: All packages instances:",t))}))),r},f=function(e,n){n&&(h(e,n),n.finally((function(){m(e)})))},d=function(e,n){var t=u(e,n);try{var r=l().exposedModules[t];if(!n)return{};var o="".concat(e,"#").concat(n),i=v(o);return i?{cachedModule:r,prefetchPromise:i}:(null==r?void 0:r.prefetch)?(f(o,r.prefetch(l().api)),{cachedModule:r,prefetchPromise:v(o)}):{cachedModule:r}}catch(t){return console.warn("Unable to retrieve cached module ".concat(e," ").concat(n,". New module will be loaded."),t),{}}},h=function(e,n){l().pendingPrefetch[e]=n},v=function(e){var n;return null===(n=l().pendingPrefetch)||void 0===n?void 0:n[e]},m=function(e){delete l().pendingPrefetch[e]},g=function(e,n,t){return void 0===t&&(t="default"),(0,o.sH)(void 0,void 0,void 0,(function(){var r,i,a,c,s;return(0,o.YH)(this,(function(o){switch(o.label){case 0:if(r=l(),i=d(e,n).cachedModule,!(c=null===(s=E(e))||void 0===s?void 0:s.manifestLocation))throw new Error("Could not get module. Manifest location not found for scope ".concat(e,"."));if(i)return[3,6];o.label=1;case 1:return o.trys.push([1,4,,5]),[4,y(c,e,n)];case 2:return o.sent(),[4,r.pluginStore.getExposedModule(e,n)];case 3:return a=o.sent(),[3,5];case 4:throw o.sent(),new Error('Module not initialized! Module "'.concat(n,'" was not found in "').concat(e,'" webpack scope. Make sure the remote container is loaded?'));case 5:return[3,7];case 6:a=i,o.label=7;case 7:return[2,a[t]]}}))}))},C=function(e){var n,i,a=e.appsConfig,s=e.api,u=e.options,l=e.pluginStoreFeatureFlags,f=void 0===l?{}:l,d=e.pluginLoaderOptions,h=void 0===d?{}:d,v=e.pluginStoreOptions,m=void 0===v?{}:v;if(r)return r.api=s||{},r.appsConfig=a,r.scalprumOptions=(0,o.Cl)((0,o.Cl)({},r.scalprumOptions),u),r.pluginStore.setFeatureFlags(f),r;var g=(0,o.Cl)({cacheTimeout:120,enableScopeWarning:"development"===(null===(i=null===(n=null===t.g||void 0===t.g?void 0:t.g.process)||void 0===n?void 0:n.env)||void 0===i?void 0:i.NODE_ENV)},u),C=new c.PluginStore((0,o.Cl)((0,o.Cl)({},m),{loaderOptions:(0,o.Cl)({sharedScope:p(g.enableScopeWarning),getPluginEntryModule:function(e){var n=e.name;return window[n]}},h)}));return C.setFeatureFlags(f),r={appsConfig:a,pendingInjections:{},pendingLoading:{},pendingPrefetch:{},existingScopes:new Set,exposedModules:{},scalprumOptions:g,api:s||{},pluginStore:C}},E=function(e){return l().appsConfig[e]},S=function(e,n,t){l().existingScopes.has(e)||l().existingScopes.add(e);var r=u(e,n);l().exposedModules[r]=t},w=function(e){delete l().pendingInjections[e]},b=function(e,n){l().pendingInjections[e]=n},M=function(e){return l().pendingInjections[e]};function y(e,n,t,r){return(0,o.sH)(this,void 0,void 0,(function(){var i,a,c,s,u,p=this;return(0,o.YH)(this,(function(f){switch(f.label){case 0:if(i=M(n),a=l(),c=a.pluginStore,!a.existingScopes.has(n))return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,c.getExposedModule(n,t)];case 2:return u=f.sent(),S(n,t,u),[2];case 3:return s=f.sent(),console.warn("Unable to load module from existing container",s),console.warn("Scalprum will try to process manifest from scratch."),[3,4];case 4:return i?[4,i]:[3,7];case 5:return f.sent(),[4,c.getExposedModule(n,t)];case 6:return u=f.sent(),S(n,t,u),[2];case 7:return i=(0,o.sH)(p,void 0,void 0,(function(){var i,a,s,u,l,p,f,d,h,v,m;return(0,o.YH)(this,(function(o){switch(o.label){case 0:return"object"!=typeof e?[3,1]:(i=e,[3,10]);case 1:return(a=new Headers).append("Pragma","no-cache"),a.append("Cache-Control","no-cache"),a.append("expires","0"),[4,fetch(e,{method:"GET",headers:a})];case 2:if((s=o.sent()).ok)return[3,7];u=s.clone(),l=void 0,o.label=3;case 3:return o.trys.push([3,5,,6]),[4,u.json()];case 4:return l=o.sent(),[3,6];case 5:throw o.sent(),new Error("Unable to load manifest files at ".concat(e,"! ").concat(u.status,": ").concat(u.statusText));case 6:throw new Error("Unable to load manifest files at ".concat(e,"! ").concat(l));case 7:return o.trys.push([7,9,,10]),[4,s.json()];case 8:return i=o.sent(),[3,10];case 9:throw p=o.sent(),w(n),new Error(p);case 10:return function(e){return"string"==typeof e.name&&"string"==typeof e.version&&Array.isArray(e.extensions)&&Array.isArray(e.loadScripts)}(i)?f=i:((g=(d=r?r(i):i[n].entry)[0].split("/")).pop(),h=g.join("/")||"/",f={extensions:[],loadScripts:d.map((function(e){return e.replace(h,"")})),name:n,registrationMethod:"custom",version:"1.0.0",baseURL:h}),[4,c.loadPlugin(f)];case 11:o.sent(),o.label=12;case 12:return o.trys.push([12,14,,15]),[4,c.getExposedModule(n,t)];case 13:return v=o.sent(),S(n,t,v),[2];case 14:throw m=o.sent(),w(n),m;case 15:return[2]}var g}))})),b(n,i),[4,i];case 8:return f.sent(),w(n),[2]}}))}))}var P=t(46343),x=t.n(P);function k(e,n,t){return void 0===t&&(t="default"),(0,o.sH)(this,void 0,void 0,(function(){var r,i,a;return(0,o.YH)(this,(function(o){switch(o.label){case 0:return r=l().pluginStore,i=void 0,a=d(e,n).cachedModule,(i=a)?[3,2]:[4,r.getExposedModule(e,n)];case 1:i=o.sent(),o.label=2;case 2:return[2,{prefetch:i.prefetch,component:i[t]}]}}))}))}var L=function(e){var n=e.error,t=e.errorInfo;return function(e){return(null==e?void 0:e.cause)&&"object"==typeof e.cause}(n)?a().createElement(L,{error:n.cause,errorInfo:t}):a().createElement("div",null,a().createElement("h2",null,"Error loading component"),"string"==typeof n&&a().createElement("p",null,n),(null==n?void 0:n.cause)&&"object"!=typeof(null==n?void 0:n.cause)&&a().createElement("p",null,n.cause),(null==n?void 0:n.message)&&a().createElement("p",null,n.message),(null==t?void 0:t.componentStack)?a().createElement("pre",null,null==t?void 0:t.componentStack):(null==n?void 0:n.stack)&&a().createElement("pre",null,n.stack))};const O=L;var A=(0,i.createContext)(void 0),R=function(e){var n=e.children,t=e.prefetchPromise;return a().createElement(A.Provider,{value:t},n)},j=(0,i.createContext)({initialized:!1,config:{},api:{},pluginStore:{}});function H(e){var n=(0,i.useContext)(j);return"function"==typeof e?e(n):n}var _=function(e){var n=e.fallback,t=void 0===n?"loading":n,r=e.scope,c=e.module,s=e.ErrorComponent,u=e.processor,p=e.innerRef,h=e.skipCache,m=void 0!==h&&h,g=e.importName,C=void 0===g?"default":g,S=(0,o.Tt)(e,["fallback","scope","module","ErrorComponent","processor","innerRef","skipCache","importName"]),w=E(r),b=w.manifestLocation,M=w.pluginManifest,P=(0,i.useReducer)((function(e){return e+1}),0),x=P[0],L=P[1],O=(0,i.useState)(void 0),A=O[0],j=O[1],_=(0,i.useState)(),U=_[0],Y=_[1],D=(0,i.useState)(),F=D[0],I=D[1];if(F)throw F;var z=H();(0,i.useEffect)((function(){var e="".concat(r,"#").concat(c),n=d(r,c),t=n.cachedModule,i=n.prefetchPromise;Y(i);var p,h=!0,m=function(e){h&&(I(e),j((function(){return function(n){return a().createElement(s,(0,o.Cl)({error:e},n))}})))},g=function(e,n){return l().pendingLoading["".concat(e,"#").concat(n)]}(r,c);if(!t&&g)g.finally((function(){L()}));else if(t)try{if(h&&j((function(){return t[C]})),p=t.prefetch){var E=v(e)||p(z);Y(E),f(e,E)}}catch(e){m(e)}else if(b||M){var S=y(null!=b?b:M,r,c,u).then((function(){return p=function(e,n,t,r,i){return(0,o.sH)(this,void 0,void 0,(function(){var a,c,s;return(0,o.YH)(this,(function(o){switch(o.label){case 0:return[4,k(e,n,r)];case 1:return a=o.sent(),c=a.prefetch,s=a.component,t&&i((function(){return s})),[2,c]}}))}))}(r,c,h,C,j),p.then((function(n){if(n){var t=v(e)||n(z);Y(t),f(e,t)}})),p})).catch(m);!function(e,n,t){l().pendingLoading["".concat(e,"#").concat(n)]=t,t.then((function(t){return delete l().pendingLoading["".concat(e,"#").concat(n)],t})).catch((function(){delete l().pendingLoading["".concat(e,"#").concat(n)]}))}(r,c,S)}return function(){h=!1,I(void 0)}}),[r,m,x]);var T=(0,i.useRef)(!1);return(0,i.useEffect)((function(){T.current&&Y(void 0),T.current=!0}),[r,c]),a().createElement(R,{prefetchPromise:U},a().createElement(i.Suspense,{fallback:t},A?a().createElement(A,(0,o.Cl)({ref:p},S)):t))},U=function(e){function n(n){var t=e.call(this,n)||this;return t.state={hasError:!1},t.selfRepairAttempt=!1,t}return(0,o.C6)(n,e),n.getDerivedStateFromError=function(){return{hasError:!0}},n.prototype.shouldComponentUpdate=function(e,n){return this.state.hasError!==n.hasError||!x()(e,this.props)||!x()(n,this.state)},n.prototype.componentDidCatch=function(e,n){!0===this.selfRepairAttempt?(console.error("Scalprum encountered an error!",(null==e?void 0:e.cause)||e.message,e),this.setState({error:e,errorInfo:n})):(console.warn("Scalprum failed to render component. Attempting to skip module cache."),this.setState({repairAttempt:!0}))},n.prototype.render=function(){var e=this,n=this.props,t=n.ErrorComponent,r=void 0===t?a().createElement(O,(0,o.Cl)({},this.state)):t,i=(0,o.Tt)(n,["ErrorComponent"]),c=function(n){return a().cloneElement(r,(0,o.Cl)((0,o.Cl)({},e.state),n))};return this.state.repairAttempt&&!this.selfRepairAttempt?(this.selfRepairAttempt=!0,a().createElement(_,(0,o.Cl)({},i,{skipCache:!0,ErrorComponent:c}))):this.state.hasError&&this.selfRepairAttempt?a().cloneElement(r,(0,o.Cl)({},this.state)):a().createElement(_,(0,o.Cl)({},i,{ErrorComponent:c}))},n.defaultProps={ErrorComponent:a().createElement(O,null)},n}(a().Component),Y=a().forwardRef((function(e,n){return a().createElement(U,(0,o.Cl)({},e,{innerRef:n}))}));function D(e){return(0,o.Cl)((0,o.Cl)({},e),{loadScripts:e.loadScripts.map((function(n){return"".concat(e.baseURL).concat(n)}))})}function F(e){var n=(0,i.useMemo)((function(){var n;if(function(e){return"scalprum"in e}(e))return e.scalprum;var t=e.config,r=e.api,i=e.pluginSDKOptions,a=(null==i?void 0:i.pluginLoaderOptions)||{},c=a.postProcessManifest,s=a.transformPluginManifest,u=null!==(n=c||s)&&void 0!==n?n:D;return c&&console.error("[Scalprum] Deprecation warning!\n  Please use pluginSDKOptions.pluginLoaderOptions.transformPluginManifest instead of pluginSDKOptions.pluginLoaderOptions.postProcessManifest.\n  The postProcessManifest option will be removed in the next major release."),C((0,o.Cl)((0,o.Cl)({appsConfig:t,api:r},i),{pluginLoaderOptions:(0,o.Cl)((0,o.Cl)({},null==i?void 0:i.pluginLoaderOptions),{transformPluginManifest:u})}))}),[e.api,e.config,e.scalprum]),t=(0,i.useMemo)((function(){return{config:n.appsConfig,api:n.api,initialized:!0,pluginStore:n.pluginStore}}),[e.api,e.config,e.scalprum,n]);return a().createElement(j.Provider,{value:t},a().createElement(c.PluginStoreProvider,{store:n.pluginStore},e.children))}function I(e,n,t,r){var a=this;void 0===r&&(r="default");var c=(0,i.useState)(t),s=c[0],u=c[1],l=(0,i.useCallback)((function(){return(0,o.sH)(a,void 0,void 0,(function(){var t,i;return(0,o.YH)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,g(e,n,r)];case 1:return t=o.sent(),u((function(){return t})),[3,3];case 2:return i=o.sent(),console.error(i),[3,3];case 3:return[2]}}))}))}),[e,n]);return(0,i.useEffect)((function(){l()}),[e,n,r]),s}function z(e,n){var t=this,r=e.scope,a=e.module,c=e.processor,s=E(r).manifestLocation,u=(0,i.useState)(n),p=u[0],f=u[1],h=(0,i.useState)(),v=h[0],m=h[1],g=d(r,a).cachedModule,C=(0,i.useRef)(!0),S=l().pluginStore;return(0,i.useEffect)((function(){if(C.current)if(g)try{S.getExposedModule(r,a).then((function(e){f((function(){return e}))}))}catch(e){m((function(){return e}))}else s&&y(s,r,a,c).then((function(){return(0,o.sH)(t,void 0,void 0,(function(){var e;return(0,o.YH)(this,(function(n){switch(n.label){case 0:return[4,S.getExposedModule(r,a)];case 1:return e=n.sent(),f((function(){return e})),[2]}}))}))})).catch((function(e){m((function(){return e}))}));return function(){C.current=!1}}),[r,g]),[p,v]}var T={data:void 0,ready:!1,error:void 0},N=function(){var e=(0,i.useState)(T),n=e[0],t=e[1],r=(0,i.useContext)(A);return(0,i.useEffect)((function(){n.ready=!1,null==r||r.then((function(e){t((0,o.Cl)((0,o.Cl)({},n),{error:void 0,data:e,ready:!0}))})).catch((function(e){t((0,o.Cl)((0,o.Cl)({},n),{ready:!0,data:void 0,error:e}))}))}),[r]),n}}}]);
//# sourceMappingURL=3553.511303ee.chunk.js.map